---
title: "Indicator Trees"
author: "Ryan Thomas"
date: "2023-09-13"
output: html_document
---

```{r setup, include=FALSE}
library(data.tree)
library(tidyverse)
load("../database/extract/indicators_db.Rdata")
```


```{r}

sales.tree <- filter_indicators("EG.3.2-26") %>%
  arrange(udn) %>%
  mutate(pathString = udn) %>%
  as.Node(., pathDelimiter = ".")

sales.tree$root <- 
```


```{r}
#print(sales.tree, "Disaggregate.Name")
print(sales.tree$`3`, "Disaggregate.Name")
```


```{r}
sex.disaggs <- list()

sex.disaggs[["path"]] <- sales.tree$Get(
  "path", 
  filterFun = function(x) str_detect(x$Disaggregate.Name, "Sex|sex") &
    str_detect(x$Disaggregate.Data.Entry.Type, "Entry"))

```



```{r}
sales.tree$root$`3`

```


